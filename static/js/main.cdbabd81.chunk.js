(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{14:function(t,e,a){},8:function(t,e,a){t.exports=a(9)},9:function(t,e,a){"use strict";a.r(e);var s=a(1),i=a(2),n=a(3),d=a(5),r=a(4),l=a(0),c=a.n(l),o=a(7),h=a.n(o),m=(a(14),function(t){Object(d.a)(a,t);var e=Object(r.a)(a);function a(t){var s;return Object(i.a)(this,a),(s=e.call(this,t)).state={},s}return Object(n.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return c.a.createElement("div",{className:"current"},c.a.createElement("div",{className:"current-content"},c.a.createElement("h1",{className:"current-location"},this.props.location),c.a.createElement("h2",null,"Now"),c.a.createElement("img",{className:"current-img",src:"/WeatherApp/icons/"+this.props.src+".png"}),c.a.createElement("div",{className:"wind-container"},c.a.createElement("img",{className:"wind",src:"/WeatherApp/icons/wind.png",style:{transform:"rotate("+this.props.wind_deg+"deg)",transitionProperty:"transform",transitionDuration:"3s"}}),c.a.createElement("div",{className:"wind-speed"},Math.round(this.props.wind_speed))),c.a.createElement("div",{className:"current-temp"},c.a.createElement("p",{className:"current-temp-high"},this.props.temp>=0?"+"+this.props.temp+"\xb0":0+this.props.temp+"\xb0"||!1))))}}]),a}(c.a.Component)),p=function(t){Object(d.a)(a,t);var e=Object(r.a)(a);function a(t){var s;return Object(i.a)(this,a),(s=e.call(this,t)).state={},s}return Object(n.a)(a,[{key:"render",value:function(){var t=this;return c.a.createElement("button",{onClick:function(){!function(t){var e=1;for(e=1;e<t.allData.length;e++){var a=document.createElement("div");a.classList.add("hourly-div");var s=y(t.allData[e].dateAndTime),i=g(t.allData[e].dateAndTime,"en");document.getElementById("modal-header").innerHTML=i+" "+s;var n=document.createElement("img");n.src="/WeatherApp/icons/"+t.allData[e].icon+".png";var d=document.createElement("p"),r=t.allData[e].dateAndTime.slice(11,16);d.innerHTML=r;var l=document.createElement("p");Math.round(t.allData[e].temp_max)>=0?l.innerHTML="+"+Math.round(t.allData[e].temp_max)+"\xb0":l.innerHTML="-"+Math.round(t.allData[e].temp_max)+"\xb0";var c=document.createElement("div");c.classList.add("wind-container");var o=document.createElement("img"),h=document.createElement("div");h.classList.add("wind-speed"),h.innerHTML=Math.round(t.allData[e].wind_speed),o.classList.add("wind"),o.src="/WeatherApp/icons/wind.png",o.style.cssText="transform: rotate("+t.allData[e].wind_deg+"deg); transition-property: transform; transition-duration: 3s;",c.appendChild(o),c.appendChild(h),a.appendChild(d),a.appendChild(n),a.appendChild(l),a.appendChild(c),L.appendChild(a),w.style.display="flex"}}(t.props)},className:"card"},c.a.createElement("p",{className:"date"},this.props.date),c.a.createElement("img",{className:"icon-img",src:"/WeatherApp/icons/"+this.props.src+".png"}),c.a.createElement("div",{className:"wind-container"},c.a.createElement("img",{className:"wind",src:"/WeatherApp/icons/wind.png",style:{transform:"rotate("+this.props.wind_deg+"deg)",transitionProperty:"transform",transitionDuration:"3s"}}),c.a.createElement("div",{className:"wind-speed"},this.props.wind_speed)),c.a.createElement("div",{className:"temp"},c.a.createElement("p",{className:"temp-high"},this.props.temp_high>=0?"+"+this.props.temp_high+"\xb0":+this.props.temp_high+"\xb0"||!1),c.a.createElement("p",{className:"temp-low"},this.props.temp_low>=0?"+"+this.props.temp_low+"\xb0":+this.props.temp_low+"\xb0"||!1)))}}]),a}(c.a.Component),u=function(t){Object(d.a)(a,t);var e=Object(r.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).state={datesList:{day1:[{}],day2:[{}],day3:[{}],day4:[{}],day5:[{}],day6:[{}]},latitude:null,longitude:null,pvm:"",src:"",isLoaded:!1,cityName:"",error:null},n.getMyLocation=n.getMyLocation.bind(Object(s.a)(n)),n.handleChange=n.handleChange.bind(Object(s.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(s.a)(n)),n.getData=n.getData.bind(Object(s.a)(n)),n.getCurrentData=n.getCurrentData.bind(Object(s.a)(n)),n.handleSuccess=n.handleSuccess.bind(Object(s.a)(n)),n.handleError=n.handleError.bind(Object(s.a)(n)),n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){}},{key:"handleSuccess",value:function(t){this.setState({latitude:t.coords.latitude,longitude:t.coords.longitude});var e="https://api.openweathermap.org/data/2.5/forecast?lat="+this.state.latitude+"&lon="+this.state.longitude+"&appid=a81617600377ed89c2f6596d66a72c1c&units=metric",a="https://api.openweathermap.org/data/2.5/weather?lat="+this.state.latitude+"&lon="+this.state.longitude+"&appid=a81617600377ed89c2f6596d66a72c1c&units=metric";this.getData(e),this.getCurrentData(a)}},{key:"handleError",value:function(t){console.warn("ERROR(".concat(t.code,"): ").concat(t.message)),t.PERMISSION_DENIED?(console.log("Error: permission denied"),alert("This app needs your permission to use your location.Click the \ud83d\udd12 or \u2139 in the left corner of the address bar and allow location services")):console.log("error"+t)}},{key:"getMyLocation",value:function(){(window.navigator&&window.navigator.geolocation).getCurrentPosition(this.handleSuccess,this.handleError,{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})}},{key:"getCurrentData",value:function(t){var e=this;fetch(t).then((function(t){return t.json()})).then((function(t){if(200==t.cod){var a=t.main.temp,s=Math.round(a);e.setState({currentLocation:t.name,currentTemp:s,currentSrc:t.weather[0].icon,currentWind_deg:t.wind.deg,currentWind_speed:t.wind.speed})}else alert(t.message)}),(function(t){e.setState({isLoaded:!1,error:t})}))}},{key:"getData",value:function(t){var e=this;fetch(t).then((function(t){return t.json()})).then((function(t){var a,s,i,n=1,d={day1:[{}],day2:[{}],day3:[{}],day4:[{}],day5:[{}],day6:[{}]};if(200==t.cod){for(a=0;a<t.list.length;a++){var r=a-1,l=t.list[a].dt_txt;if(0==a)n=1;else if(a>0){var c=t.list[r].dt_txt;l.slice(8,10)==c.slice(8,10)?n=n:(n+=1,s=null,i=null)}null==s&&(s=t.list[a].main.temp_max),t.list[a].main.temp_max>s&&(s=t.list[a].main.temp_max),null==i&&(i=t.list[a].main.temp_min),t.list[a].main.temp_min<i&&(i=t.list[a].main.temp_min);l={id:n,dateAndTime:t.list[a].dt_txt,highest_temp:s,lowest_temp:i,temp_max:t.list[a].main.temp_max,temp_min:t.list[a].main.temp_min,icon:t.list[a].weather[0].icon,desc:t.list[a].weather[0].description,wind_deg:t.list[a].wind.deg,wind_speed:t.list[a].wind.speed};1===n?d.day1.push(l):2===n?d.day2.push(l):3===n?d.day3.push(l):4===n?d.day4.push(l):5===n?d.day5.push(l):6===n&&d.day6.push(l)}e.setState({datesList:d}),e.setState({isLoaded:!0}),document.getElementById("weatherWrapper").classList.replace("hidden","visible")}else{alert(t.message),document.getElementById("weatherWrapper").classList.replace("visible","hidden"),e.setState({isLoaded:!1})}}),(function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"handleChange",value:function(t){this.setState({cityName:t.target.value}),t.preventDefault()}},{key:"handleSubmit",value:function(t){var e="https://api.openweathermap.org/data/2.5/forecast?q="+this.state.cityName+"&appid=a81617600377ed89c2f6596d66a72c1c&units=metric&mode=json",a="https://api.openweathermap.org/data/2.5/weather?q="+this.state.cityName+"&appid=a81617600377ed89c2f6596d66a72c1c&units=metric&mode=json";this.getData(e),this.getCurrentData(a),t.preventDefault()}},{key:"render",value:function(){var t,e,a,s,i,n,d;if(this.state.isLoaded){var r=g(this.state.datesList.day1[this.state.datesList.day1.length-1].dateAndTime,"en")+" "+y(this.state.datesList.day1[this.state.datesList.day1.length-1].dateAndTime),l=g(this.state.datesList.day2[5].dateAndTime,"en")+" "+y(this.state.datesList.day2[5].dateAndTime),o=g(this.state.datesList.day3[5].dateAndTime,"en")+" "+y(this.state.datesList.day3[5].dateAndTime),h=g(this.state.datesList.day4[5].dateAndTime,"en")+" "+y(this.state.datesList.day4[5].dateAndTime),u=g(this.state.datesList.day5[5].dateAndTime,"en")+" "+y(this.state.datesList.day5[5].dateAndTime),w=g(this.state.datesList.day6[this.state.datesList.day6.length-1].dateAndTime,"en")+" "+y(this.state.datesList.day6[this.state.datesList.day6.length-1].dateAndTime);d=c.a.createElement(m,{src:this.state.currentSrc,location:this.state.currentLocation,wind_deg:this.state.currentWind_deg,wind_speed:this.state.currentWind_speed,temp:this.state.currentTemp}),t=c.a.createElement(p,{src:this.state.datesList.day1[1].icon,temp_high:Math.round(this.state.datesList.day1[this.state.datesList.day1.length-1].highest_temp),temp_low:Math.round(this.state.datesList.day1[this.state.datesList.day1.length-1].lowest_temp),date:r,wind_deg:this.state.datesList.day1[1].wind_deg,wind_speed:Math.round(this.state.datesList.day1[1].wind_speed),allData:this.state.datesList.day1}),e=c.a.createElement(p,{src:this.state.datesList.day2[5].icon,temp_high:Math.round(this.state.datesList.day2[this.state.datesList.day2.length-1].highest_temp),temp_low:Math.round(this.state.datesList.day2[this.state.datesList.day2.length-1].lowest_temp),date:l,wind_deg:this.state.datesList.day2[1].wind_deg,wind_speed:Math.round(this.state.datesList.day2[1].wind_speed),allData:this.state.datesList.day2}),a=c.a.createElement(p,{src:this.state.datesList.day3[5].icon,temp_high:Math.round(this.state.datesList.day3[this.state.datesList.day3.length-1].highest_temp),temp_low:Math.round(this.state.datesList.day3[this.state.datesList.day3.length-1].lowest_temp),date:o,wind_deg:this.state.datesList.day3[1].wind_deg,wind_speed:Math.round(this.state.datesList.day3[1].wind_speed),allData:this.state.datesList.day3}),s=c.a.createElement(p,{src:this.state.datesList.day4[5].icon,temp_high:Math.round(this.state.datesList.day4[this.state.datesList.day4.length-1].highest_temp),temp_low:Math.round(this.state.datesList.day4[this.state.datesList.day4.length-1].lowest_temp),date:h,wind_deg:this.state.datesList.day4[1].wind_deg,wind_speed:Math.round(this.state.datesList.day4[1].wind_speed),allData:this.state.datesList.day4}),i=c.a.createElement(p,{src:this.state.datesList.day5[5].icon,temp_high:Math.round(this.state.datesList.day5[this.state.datesList.day5.length-1].highest_temp),temp_low:Math.round(this.state.datesList.day5[this.state.datesList.day5.length-1].lowest_temp),date:u,wind_deg:this.state.datesList.day5[1].wind_deg,wind_speed:Math.round(this.state.datesList.day5[1].wind_speed),allData:this.state.datesList.day5}),n=c.a.createElement(p,{src:this.state.datesList.day6[this.state.datesList.day6.length-1].icon,temp_high:Math.round(this.state.datesList.day6[this.state.datesList.day6.length-1].highest_temp),temp_low:Math.round(this.state.datesList.day6[this.state.datesList.day6.length-1].lowest_temp),date:w,wind_deg:this.state.datesList.day6[1].wind_deg,wind_speed:Math.round(this.state.datesList.day6[1].wind_speed),allData:this.state.datesList.day6})}else d=c.a.createElement(m,null),t=c.a.createElement(p,null),e=c.a.createElement(p,null),a=c.a.createElement(p,null),s=c.a.createElement(p,null),i=c.a.createElement(p,null),n=c.a.createElement(p,null);return c.a.createElement("div",{className:"main"},c.a.createElement("div",{className:"formWrapper"},c.a.createElement("form",{onSubmit:this.handleSubmit},c.a.createElement("div",{className:"inputWrapper"},c.a.createElement("input",{id:"cityInput",type:"text",placeholder:"City e.g. Seattle",value:this.state.cityName,onChange:this.handleChange}),c.a.createElement("input",{id:"searchButton",type:"image",src:"/WeatherApp/icons/arrow.png"}))),c.a.createElement("button",{id:"locationButton",onClick:this.getMyLocation},c.a.createElement("img",{src:"/WeatherApp/icons/location.png"}))),c.a.createElement("div",{id:"weatherWrapper",className:"hidden"},c.a.createElement("div",{className:"current-wrapper"},d),c.a.createElement("div",{className:"cards-wrapper"},t,e,a,s,i,n),c.a.createElement("div",{id:"hourly-wrapper"})),c.a.createElement("div",{id:"myModal",className:"modal"},c.a.createElement("div",{className:"modal-content",id:"modalContent"},c.a.createElement("span",{className:"close",id:"close"},"\xd7"),c.a.createElement("p",{id:"modal-header"}))))}}]),a}(c.a.Component);function y(t){var e=t,a=e.slice(5,7),s=e.slice(8,10);a=a.replace("0","");e.slice(11,16);return s+"."+a}function g(t,e){return new Date(t).toLocaleDateString(e,{weekday:"long"})}h.a.render(c.a.createElement(u,null),document.getElementById("root"));var w=document.getElementById("myModal"),L=document.getElementById("modalContent"),_=document.getElementsByClassName("card");document.addEventListener("click",(function(t){t.target&&"close"==t.target.id&&function(){w.style.display="none",L.innerHTML=" ";var t=document.createElement("p");t.setAttribute("id","modal-header");var e=document.createElement("span");e.classList.add("close"),e.innerHTML="&times;",e.setAttribute("id","close"),L.appendChild(e),L.appendChild(t)}()})),_.onclick=function(){w.style.display="block"},window.onclick=function(t){if(t.target==w){w.style.display="none",L.innerHTML=" ";var e=document.createElement("p");e.setAttribute("id","modal-header");var a=document.createElement("span");a.classList.add("close"),a.innerHTML="&times;",a.setAttribute("id","close"),L.appendChild(a),L.appendChild(e)}}}},[[8,1,2]]]);
//# sourceMappingURL=main.cdbabd81.chunk.js.map